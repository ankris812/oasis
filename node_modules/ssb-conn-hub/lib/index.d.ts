/// <reference types="node" />
import { ConnectionData as Data, Address } from './types';
import { EventEmitter } from 'events';
interface SSB extends EventEmitter {
    id: string;
    ready?: () => boolean;
    connect: (addr: string, cb: CallableFunction) => void;
    close: (err: any, cb: CallableFunction) => void;
    stream: {
        address: string;
        meta: any;
    };
    peers: Record<string, Array<RPC>>;
}
interface RPC extends SSB {
    _connectRetries?: number;
}
declare class ConnHub {
    private readonly _ssb;
    private readonly _peers;
    private readonly _rpcs;
    private readonly _notifyEvent;
    private readonly _notifyEntries;
    private _closed;
    private readonly _connectRetries;
    constructor(ssb: SSB);
    private _init;
    private _assertNotClosed;
    private _assertValidAddress;
    private _updateLiveEntries;
    private _setPeer;
    private _getPeerByKey;
    private _onRpcConnect;
    connect(address: Address, data?: Partial<Data>): Promise<false | RPC>;
    disconnect(address: Address): Promise<boolean>;
    update(address: Address, data: Partial<Data>): boolean;
    reset(): void;
    entries(): IterableIterator<[string, Data]>;
    liveEntries(): any;
    getState(address: Address): Data['state'] | undefined;
    listen(): any;
    close(): void;
}
export = ConnHub;
